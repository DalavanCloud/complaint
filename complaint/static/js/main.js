!function t(e,n,a){function o(i,s){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(r)return r(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[i]={exports:{}};e[i][0].call(u.exports,function(t){var n=e[i][1][t];return o(n?n:t)},u,u.exports,t,e,n,a)}return n[i].exports}for(var r="function"==typeof require&&require,i=0;i<a.length;i++)o(a[i]);return o}({1:[function(t,e,n){"use strict";function a(t){if("undefined"==typeof t)return"";var e=t.substr(0,10),n=e.split("-");return e=Number(n[1]).toString()+"/"+Number(n[2]).toString()+"/"+Number(n[0]).toString()}function o(t){var e,n,a,o=$("#tooltip-container"),r=t.attr("data-tooltip-target"),i=$('[data-tooltip-name="'+r+'"]').html(),s=o.find(".innertip"),c=o.find(".outertip");o.width($("#ccdb-landing").width()/3),o.find(".content").html(i),$("[data-tooltip-current-target]").removeAttr("data-tooltip-current-target"),t.attr("data-tooltip-current-target",!0),o.show(),e=t.offset().top+t.outerHeight()+10,n=t.offset().left+t.outerWidth()/2-o.outerWidth(!0)/2,o.css({top:e,left:n}),o.offset().left+o.outerWidth(!0)>$(window).width()&&(n=$(window).width()-o.outerWidth(!0)-20,o.css("left",n)),a=Math.floor(o.outerWidth()/2),s.css("left",Math.floor(a-s.outerWidth()/2)),c.css("left",Math.floor(a-c.outerWidth()/2)),$("html").on("click","body:not(#tooltip-container a)",function(){o.hide(),o.find(".content").html(""),$("[data-tooltip-current-target]").removeAttr("data-tooltip-current-target"),$("html").off("click")})}function r(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}t("./nemo"),t("./nemo-shim");var i={all_all:"s6ew-h6mp",all_narratives:"nsyy-je5y","bank-account_all":"t9fg-cqmi","bank-account_narratives":"ytxv-uppu","credit-card_all":"7zpz-7ury","credit-card_narratives":"wycs-qcs4","credit-reporting_all":"xa48-juie","credit-reporting_narratives":"ur78-i5sn","debt-collection_all":"ckyu-ku28","debt-collection_narratives":"dx9u-5nhx","money-transfer_all":"uha4-cwwn","money-transfer_narratives":"njq8-tnnk",mortgage_all:"g5qz-smft",mortgage_narratives:"gfmg-6ppu",other_all:"b239-tvpx",other_narratives:"yjne-fppi","payday-loan_all":"6hp8-hzag","payday-loan_narratives":"xiq2-ahjv","prepaid-card_all":"6yuf-367p","prepaid-card_narratives":"2t2q-2pud","student-loan_all":"eew7-9yf2","student-loan_narratives":"j875-kipn","consumer-loan_all":"wfbn-zkat","consumer-loan_narratives":"uqjt-9neg"},s="bank-account";jQuery.fn.extend({insertText:function(t,e,n){"undefined"==typeof e&&(e=" "),null===e&&(e="None"),"quoted"===n&&(e='"'+e.trim()+'"'),"number"===n&&(e=r(e)),"percent"===n&&(e+="%"),"date"===n&&(e=a(e)),$(this).find(t).text(e)}}),$(document).ready(function(){var t="http://files.consumerfinance.gov/ccdb/narratives.json",e="https://data.consumerfinance.gov/resource/u473-64qt.json",n={"bank-account":"bank_accounts","credit-card":"credit_cards","credit-reporting":"credit_reporting","debt-collection":"debt_collection","money-transfer":"money_transfers",mortgage:"mortgages",other:"other_financial_services","payday-loan":"payday_loans","prepaid-card":"prepaid_cards","student-loan":"student_loans","consumer-loan":"other_consumer_loans"};$.ajax({url:t,dataType:"JSONP",jsonp:!1,jsonpCallback:"narratives",success:function(t){$(".complaint-container").each(function(){var e=$(this).attr("data-container-for"),a=t[n[e]];-1!==n.hasOwnProperty(e)&&($(this).insertText(".complaint-text",a.complaint_what_happened),$(this).insertText(".response-text",a.company_public_response),$(this).insertText(".complaint-company-response",a.company_response),$(this).insertText(".complaint-subproduct",a.sub_product),$(this).insertText(".complaint-issue",a.issue),$(this).insertText(".complaint-state",a.state),$(this).insertText(".complaint-date",a.date_received,"date"))}),t.hasOwnProperty("stats")&&$("#ccdb-landing").insertText(".percent-timely",t.stats.percent_timely,"percent")}}),$.get(e).done(function(t){var e=0,n=0;$.each(t,function(t,a){e+=Number(a.count_complaint_id),"Untimely response"!==a.company_response&&(n+=Number(a.count_complaint_id))}),$("#ccdb-landing").insertText(".total-complaints",e,"number"),$("#ccdb-landing").insertText(".company-responses",n,"number")}),$(".category-buttons button").click(function(){s=$(this).attr("data-category"),$(".category-buttons button").removeClass("selected-button"),$(this).addClass("selected-button"),$(".complaint-container").hide(),$('.complaint-container[data-container-for="'+s+'"]').show()}),$(".category-buttons button").hover(function(){var t=$(this).find(".text-content");$(this).addClass("hover-button"),t.css("left",(t.outerWidth()-$(this).outerWidth())/2*-1)},function(){$(this).removeClass("hover-button")}),$("button.category-next").click(function(){s=$(this).attr("data-category"),$('.category-buttons button[data-category="'+s+'"]').click()}),$(".expandable-bar").click(function(){var t=$('.complaint-container[data-container-for="'+$(this).attr("data-category")+'"]');t.is(":visible")?(t.slideUp(),$(this).find(".cf-icon-minus-round").removeClass("cf-icon-minus-round").addClass("cf-icon-plus-round")):(t.slideDown(),$(this).find(".cf-icon-plus-round").removeClass("cf-icon-plus-round").addClass("cf-icon-minus-round"),s=$(this).attr("data-category"))}),$(".category-buttons").is(":visible")&&$(".category-buttons button")[0].click(),$("[data-tooltip-target]").click(function(t){t.preventDefault(),t.stopPropagation(),o($(this))}),$(window).resize(function(){$("#tooltip-container").is(":visible")&&($("#tooltip-container").hide(),o($("[data-tooltip-current-target]")))}),$(".download-radio").click(function(){var t="https://data.consumerfinance.gov/views/",e=$(".download-radio input:checked").val(),n=$("#download_include option:selected").val(),a=i[e+"_"+n],o=$("#download_format option:selected").val();$("#download-data-btn").attr("href",t+a+"/rows."+o)}),$("#download_format, #download_include").on("change",function(){$(".download-radio input:checked").click()}),$(".publication-criteria a, .list__links .pdf, .pdf").removeClass("pdf"),$(window).resize(function(){$(".category-buttons").is(":visible")?$('.category-buttons button[data-category="'+s+'"]').click():$(".complaint-container:visible").each(function(){var t=$('.expandable-bar[data-category="'+s+'"]');s=$(this).attr("data-container-for"),t.find(".cf-icon-plus-round").removeClass("cf-icon-plus-round").addClass("cf-icon-minus-round")})})})},{"./nemo":3,"./nemo-shim":2}],2:[function(t,e,n){var a=document.getElementsByTagName("body")[0];a.className+=" js",$(".toggle-menu").on("click",function(t){t.preventDefault(),$("nav.main ul").toggleClass("vis")})},{}],3:[function(t,e,n){function a(){l=1,$("#closeMenu").remove();var t=$(i),e=t.attr("href"),n=t.offset().left-1;$(e).css("left",n+"px");var n=t.offset().top+t.outerHeight();$(e).css("top",n+"px"),$(e).append("<a id='closeMenu' class='close' href='#'>close menu</a>"),$("a#closeMenu").click(function(t){t.preventDefault();var e=$(this).parent().attr("id");o(),$('a[href="#'+e+'"]').removeClass("active"),$('a[href="#'+e+'"]').get(0).focus(),$('a[href="#'+e+'"]').css("outline","none")});var a=$(e).show().height();$(e).hide().css("height",0),$(e).show().animate({height:a},400,function(){l=0}),$(e+" a:first").get(0).focus(),$(e+" a:first").css("outline","none"),t.addClass("active"),c=0}function o(){$(".active").removeClass("active"),$("#closeMenu").remove(),$("#subnav nav").slideUp()}function r(){var t=$("#skip-link");t.click(function(){$("#primary-content").focus()})}var i,s,c,l;$(document).ready(function(){r(),$("#header nav a").mouseenter(function(){window.clearTimeout(s);var t=$(this).attr("href");return("none"==$(t).css("display")||"/"==t)&&(o(),i=this,c=window.setTimeout(a,500)),!1}).mouseleave(function(){s=window.setTimeout(o,500),window.clearTimeout(c),c=0}).click(function(t){if(l)return!1;var e=$(this),n=e.attr("href");return"/"==n?!0:("none"==$(n).css("display")?c||l||(o(),i=this,a()):l||o(),!1)}),$("#subnav nav").mouseenter(function(){window.clearTimeout(s),window.clearTimeout(c);"#"+$(this).attr("id")}).mouseleave(function(){s=window.setTimeout(o,500)}),$(".inf input").keyup(function(){$(this).val()?$(this).addClass("filled"):$(this).removeClass("filled")}),$(".inf textarea").keyup(function(){$(this).val()?$(this).addClass("filled"):$(this).removeClass("filled")}),$(".signup,.signup2").submit(function(){var t=$(this);return t.children("fieldset").children("p:last-child").children("button").attr("disabled","disabled"),$.ajax({type:"POST",url:$(this).attr("action"),data:t.serialize(),complete:function(e,n){if(n){t.children("fieldset").hide();var a;a=t.attr("data-thanks")?t.attr("data-thanks"):"Thanks, we'll be in touch.",t.html("<p>"+a+"</p>")}else t.children("fieldset").hide(),t.append("<p>Something went wrong. Please try again later.</p>")}}),!1}),$("a > img").each(function(){$(this).parent().addClass("noStyles")}),$(".mini a").mouseup(function(){var t=$(this).attr("href");t=t.replace("http://","/"),t=t.replace("http://","/");var e="/v/topshare"+t;_gaq.push(["_trackPageview",e])}),$(".botshare a").mouseup(function(){var t=$(this).attr("href");t=t.replace("http://","/"),t=t.replace("http://","/");var e="/v/botshare"+t;_gaq.push(["_trackPageview",e])}),$("iframe").each(function(){var t=$(this).attr("src");$(this).attr("src",t+"?wmode=transparent")}),$('a[href$="pdf"]').each(function(){$(this).addClass("pdf")})}),$(function(){var t=$("#search_form label");$("#search_form #query").val()?t.fadeOut(50):t.fadeIn(50),$("#search_form #query").focus(function(){$(this).val()?t.fadeOut(50):t.fadeIn(50)}),$("#search_form #query").keyup(function(){$("#search_form #query").val()?t.fadeOut(50):t.fadeIn(50)}),$("#search_form #query").blur(function(){""==$(this).val()?t.fadeIn(50):t.fadeOut(50)})})},{}]},{},[1]);
//# sourceMappingURL=main.js.map
